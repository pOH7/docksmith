name: Sync Metatube Server

on:
  schedule:
    - cron: '0 18 * * *'  # Daily at 2 AM UTC+8 (18:00 UTC)
  workflow_dispatch:

jobs:
  sync:
    uses: ./.github/workflows/sync-template.yml
    with:
      repo: 'metatube-community/metatube-server-releases'
      sync_type: 'release'
      source_images: |
        - ghcr.io/metatube-community/metatube-server
      version_transform: version[1:] if version.startswith('v') else version
    secrets: inherit
